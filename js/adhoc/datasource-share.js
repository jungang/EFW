webpackJsonp([3],{0:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(9),_reactTooltip=__webpack_require__(43),_reactTooltip2=_interopRequireDefault(_reactTooltip),_requests=__webpack_require__(12),_requests2=_interopRequireDefault(_requests),_flux=__webpack_require__(21),_flux2=_interopRequireDefault(_flux),_ajaxBlock=__webpack_require__(28),_ajaxBlock2=_interopRequireDefault(_ajaxBlock),_datasourceShareComponent=__webpack_require__(164),_datasourceShareComponent2=_interopRequireDefault(_datasourceShareComponent);window.ReactTooltip=_reactTooltip2.default;var dataSource=_flux2.default.dataSource,DataSourceShare=_react2.default.createClass({displayName:"DataSourceShare",getInitialState:function(){return{selectedDataSource:!1}},handleSourceSelect:function(source){var _this=this,data=source.data;data.classifier=dataSource.store.getState().selectedDataSourceType.get("classifier"),_requests2.default.core.readDataSource(data,function(res){_this.setState({selectedDataSource:res})})},render:function(){var selectedDataSource=this.state.selectedDataSource;return selectedDataSource?null:_react2.default.createElement("div",{className:"container"},_react2.default.createElement(_datasourceShareComponent2.default,{skipSchemas:!0,onSelectSource:this.handleSourceSelect}),_react2.default.createElement(_ajaxBlock2.default,{autostart:!0}))}});(0,_reactDom.render)(_react2.default.createElement(DataSourceShare,null),document.getElementById("main"))},12:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=window.$,postRequest=function(url,options,callback,errback){var xhr=$.ajax({url:url,type:"post",data:options,headers:{currentTime:(new Date).getTime()}});return xhr.done(function(data){if("string"==typeof data)try{data=JSON.parse(data)}catch(e){return}var _data=data,status=_data.status,response=_data.response;status?callback(response):"function"==typeof errback&&errback(response)}).error(function(response){return"function"==typeof errback&&errback(response)}),xhr},getRequest=function(url,options,callback){"function"==typeof options&&(callback=options,options=null);var xhr=$.ajax({url:url,type:"get",data:options});return xhr.done(function(data){"string"==typeof data&&(data=JSON.parse(data)),callback(data)}),xhr},servicesRequest=function(uri,formData,callback,errback){var _uri$split=uri.split("/"),_uri$split2=_slicedToArray(_uri$split,3),type=_uri$split2[0],serviceType=_uri$split2[1],service=_uri$split2[2];formData=JSON.stringify(formData);var options={type:type,serviceType:serviceType,service:service,formData:formData};return postRequest(window.HDI.adhoc.urls.services,options,callback,errback)};exports.default={adhoc:{listDataSourceTypes:function(callback){return getRequest(window.HDI.adhoc.urls.createDataSource,callback)},listDataSources:function(formData,callback){return getRequest(window.HDI.adhoc.urls.listDataSources,formData,callback)},getResources:function(formData,callback){return getRequest(window.HDI.adhoc.urls.getResources,{extensions:JSON.stringify(formData)},callback)},getTotalCount:function(formData,callback){return servicesRequest("adhoc/report/getTotalCount",formData,callback)},getTemplateSettings:function(formData,callback){return servicesRequest("print/export/getExportSettings",formData,callback)},getAvailableFrames:function(formData,callback){return servicesRequest("print/export/getTemplateList",formData,callback)},addFrameToFramesList:function(formData,callback){return servicesRequest("print/export/saveTemplate",formData,callback)}},core:{testDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/test",formData,callback,errback)},createDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/write",formData,callback,errback)},updateDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/update",formData,callback,errback)},readDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/read",formData,callback,errback)},quickTest:function(formData,callback,errback){return servicesRequest("core/dataSource/quickTest",formData,callback,errback)}}}},22:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var $=window.$;$.notifyDefaults({position:"fixed",placement:{from:"bottom",align:"right"},mouse_over:"pause",delay:3e3,timer:1e3}),exports.default={info:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-info";return $.notify({message:message,icon:icon},{type:"info"})},warn:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-exclamation-triangle";return $.notify({message:message,icon:icon},{type:"warning"})},success:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-check";return $.notify({message:message,icon:icon},{type:"success"})},danger:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-times";return console.warn("Notify.danger is deprecated, use Notify.error instead"),$.notify({message:message,icon:icon},{type:"danger"})},error:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-times";return $.notify({message:message,icon:icon},{type:"danger"})}}},27:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),DataSourceTypes=_react2.default.createClass({displayName:"DataSourceTypes",propTypes:{disabled:_react.PropTypes.bool,selectNone:_react.PropTypes.bool,value:_react.PropTypes.string},handleChange:function(event){var selectedType=event.target.value,_props=this.props,onChange=_props.onChange,dataSources=_props.dataSources;"function"==typeof onChange&&onChange(dataSources.get(selectedType))},render:function(){var _props2=this.props,value=_props2.value,disabled=_props2.disabled,dataSources=_props2.dataSources,selectNone=_props2.selectNone,selectedIndex=value?dataSources.findIndex(function(c){return c.get("type")===value}):"";return _react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",null,"DataSource Type"),_react2.default.createElement("select",{className:"form-control",defaultValue:selectedIndex,disabled:disabled,onChange:this.handleChange},selectNone?_react2.default.createElement("option",{disabled:!0,value:""},"<Please select a data source>"):null,dataSources.map(function(val,i){return _react2.default.createElement("option",{key:i,value:i},val.get("name"))})))}});exports.default=DataSourceTypes},28:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function abortAllRequests(){for(var i=0,l=$.ajaxQueue.length;i<l;i++){var request=$.ajaxQueue[i];"function"==typeof request.abort&&request.abort()}$.ajaxQueue.length>0&&($.ajaxQueue=[])}function removeRequest(identifier){$.ajaxQueue=_lodash2.default.filter($.ajaxQueue,function(obj){return obj.identifier!==identifier})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactBootstrapModal=__webpack_require__(24),_reactBootstrapModal2=_interopRequireDefault(_reactBootstrapModal),_notify=__webpack_require__(22),_notify2=_interopRequireDefault(_notify),_lodash=__webpack_require__(14),_lodash2=_interopRequireDefault(_lodash),_utils=__webpack_require__(37),$=window.jQuery;$.ajaxQueue=$.ajaxQueue||[];var AjaxBlock=_react2.default.createClass({displayName:"AjaxBlock",propTypes:{autostart:_react.PropTypes.bool},getInitialState:function(){return{visible:this.props.autostart,seconds:0,requests:$.active||0}},componentDidMount:function(){var _this=this;$(document).on("ajaxStart.reactBSModal",function(){_this._noBlock||_this.show()}).on("ajaxSend.reactBSModal",function(evt,xhr,settings){_this.updateRequestsCount(0),settings._noBlock&&(_this._noBlock=!0,_this.hide()),xhr.identifier=(0,_utils.randomString)(),xhr.setRequestHeader("currentTime",(new Date).getTime()),$.ajaxQueue.push(xhr)}).on("ajaxSuccess.reactBSModal",function(evt,xhr){removeRequest(xhr.identifier)}).on("ajaxComplete.reactBSModal",function(evt,xhr,settings){_this.updateRequestsCount(-1),settings._noBlock&&(_this._noBlock=!1)}).on("ajaxStop.reactBSModal",function(){_this.hide()}).on("ajaxError.reactBSModal",function(){_notify2.default.error("There was problem in completing your request"),_this.hide(),abortAllRequests()})},componentWillUnmount:function(){$(document).off("ajaxStart.reactBSModal ajaxSend.reactBSModal ajaxSuccess.reactBSModal ajaxComplete.reactBSModal ajaxStop.reactBSModal ajaxError.reactBSModal"),this.timer&&clearInterval(this.timer)},updateRequestsCount:function(){var num=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({requests:$.active+num})},tick:function(){var seconds=this.state.seconds+1;this.setState({seconds:seconds})},show:function(){this.setState({visible:!0}),this.timer=setInterval(this.tick,1e3)},hide:function(){this.setState({visible:!1,seconds:0}),this.timer&&clearInterval(this.timer)},handleCancel:function(){abortAllRequests(),this.hide()},getTime:function(){var min=Math.floor(this.state.seconds/60),sec=this.state.seconds%60;return sec=("0"+sec).substr(-2),min+":"+sec},render:function(){return _react2.default.createElement(_reactBootstrapModal2.default,{show:this.state.visible,onHide:this.handleCancel,backdrop:"static"},_react2.default.createElement(_reactBootstrapModal.Header,null,_react2.default.createElement("h4",{className:"modal-title"},_react2.default.createElement("span",null,"Updating"),_react2.default.createElement("i",{className:"fa fa-repeat fa-spin pull-right"}))),_react2.default.createElement(_reactBootstrapModal.Body,null,_react2.default.createElement("p",null,_react2.default.createElement("b",null,"Please wait while your request is being processed...")),_react2.default.createElement("p",null,"Pending requests: ",this.state.requests)),_react2.default.createElement(_reactBootstrapModal.Footer,null,_react2.default.createElement("p",{className:"pull-left text-danger"},"Time elapsed: ",this.getTime()),_react2.default.createElement(_reactBootstrapModal.Dismiss,{className:"btn btn-danger"},"Close")))}});exports.default=AjaxBlock},33:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var ua=window.navigator.userAgent;return/Firefox\/([0-9\.]+)(?:\s|$)/.test(ua)}},34:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}},35:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var ua=window.navigator.userAgent;return ua.indexOf("PhantomJS")>-1}},36:function(module,exports){"use strict";function extractDir(path,file){return path.replace(file,"").replace(/^\/|\/$/g,"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=extractDir},37:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _strings=__webpack_require__(38);Object.keys(_strings).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _strings[key]}})});var _extractDir=__webpack_require__(36);Object.defineProperty(exports,"extractDir",{enumerable:!0,get:function(){return _interopRequireDefault(_extractDir).default}});var _detectIe=__webpack_require__(34);Object.defineProperty(exports,"detectIE",{enumerable:!0,get:function(){return _interopRequireDefault(_detectIe).default}});var _detectPhantom=__webpack_require__(35);Object.defineProperty(exports,"detectPhantom",{enumerable:!0,get:function(){return _interopRequireDefault(_detectPhantom).default}});var _detectFirefox=__webpack_require__(33);Object.defineProperty(exports,"detectFirefox",{enumerable:!0,get:function(){return _interopRequireDefault(_detectFirefox).default}})},38:function(module,exports){"use strict";function randomString(){return Math.random().toString(36).substring(2)}function escapeCodeMirrorString(str){return str.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0").replace(/\n/g,"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomString=randomString,exports.escapeCodeMirrorString=escapeCodeMirrorString},41:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(9),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(5),_classnames2=_interopRequireDefault(_classnames),_style=__webpack_require__(42),_style2=_interopRequireDefault(_style),ReactTooltip=function(_Component){function ReactTooltip(props){_classCallCheck(this,ReactTooltip);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ReactTooltip).call(this,props));return _this._bind("showTooltip","updateTooltip","hideTooltip","checkStatus","onWindowResize","bindClickListener","globalHide","globalRebuild"),_this.mount=!0,_this.state={show:!1,border:!1,multilineCount:0,placeholder:"",x:"NONE",y:"NONE",place:"",type:"",effect:"",multiline:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:props.event||null},_this.delayShowLoop=null,_this}return _inherits(ReactTooltip,_Component),_createClass(ReactTooltip,[{key:"globalHide",value:function(){this.mount&&this.hideTooltip()}},{key:"globalRebuild",value:function(){this.mount&&(this.unbindListener(),this.bindListener())}}],[{key:"hide",value:function(){if("function"==typeof window.Event)window.dispatchEvent(new window.Event("__react_tooltip_hide_event"));else{var event=document.createEvent("Event");event.initEvent("__react_tooltip_hide_event",!1,!0),window.dispatchEvent(event)}}},{key:"rebuild",value:function(){if("function"==typeof window.Event)window.dispatchEvent(new window.Event("__react_tooltip_rebuild_event"));else{var event=document.createEvent("Event");event.initEvent("__react_tooltip_rebuild_event",!1,!0),window.dispatchEvent(event)}}}]),_createClass(ReactTooltip,[{key:"_bind",value:function(){for(var _this2=this,_len=arguments.length,handlers=Array(_len),_key=0;_key<_len;_key++)handlers[_key]=arguments[_key];handlers.forEach(function(handler){return _this2[handler]=_this2[handler].bind(_this2)})}},{key:"componentDidMount",value:function(){this.bindListener(),this.setStyleHeader(),window.removeEventListener("__react_tooltip_hide_event",this.globalHide),window.addEventListener("__react_tooltip_hide_event",this.globalHide,!1),window.removeEventListener("__react_tooltip_rebuild_event",this.globalRebuild),window.addEventListener("__react_tooltip_rebuild_event",this.globalRebuild,!1),window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1)}},{key:"componentWillUpdate",value:function(){this.unbindListener()}},{key:"componentDidUpdate",value:function(){this.updatePosition(),this.bindListener()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayShowLoop),this.unbindListener(),this.removeScrollListener(),this.mount=!1,window.removeEventListener("__react_tooltip_hide_event",this.globalHide),window.removeEventListener("__react_tooltip_rebuild_event",this.globalRebuild),window.removeEventListener("resize",this.onWindowResize)}},{key:"bindListener",value:function(){for(var targetArray=this.getTargetArray(),dataEvent=void 0,i=0;i<targetArray.length;i++)null===targetArray[i].getAttribute("currentItem")&&targetArray[i].setAttribute("currentItem","false"),dataEvent=this.state.event||targetArray[i].getAttribute("data-event"),dataEvent?(targetArray[i].removeEventListener(dataEvent,this.checkStatus),targetArray[i].addEventListener(dataEvent,this.checkStatus,!1)):(targetArray[i].removeEventListener("mouseenter",this.showTooltip),targetArray[i].addEventListener("mouseenter",this.showTooltip,!1),"float"===this.state.effect&&(targetArray[i].removeEventListener("mousemove",this.updateTooltip),targetArray[i].addEventListener("mousemove",this.updateTooltip,!1)),targetArray[i].removeEventListener("mouseleave",this.hideTooltip),targetArray[i].addEventListener("mouseleave",this.hideTooltip,!1))}},{key:"unbindListener",value:function(){for(var targetArray=document.querySelectorAll("[data-tip]"),dataEvent=void 0,i=0;i<targetArray.length;i++)dataEvent=this.state.event||targetArray[i].getAttribute("data-event"),dataEvent?targetArray[i].removeEventListener(dataEvent,this.checkStatus):(targetArray[i].removeEventListener("mouseenter",this.showTooltip),targetArray[i].removeEventListener("mousemove",this.updateTooltip),targetArray[i].removeEventListener("mouseleave",this.hideTooltip))}},{key:"getTargetArray",value:function(){var id=this.props.id,targetArray=void 0;return targetArray=void 0===id?document.querySelectorAll("[data-tip]:not([data-for])"):document.querySelectorAll('[data-tip][data-for="'+id+'"]')}},{key:"onWindowResize",value:function(){if(this.mount)for(var targetArray=this.getTargetArray(),i=0;i<targetArray.length;i++)if("true"===targetArray[i].getAttribute("currentItem")){var _getPosition=this.getPosition(targetArray[i]),x=_getPosition.x,y=_getPosition.y;_reactDom2.default.findDOMNode(this).style.left=x+"px",_reactDom2.default.findDOMNode(this).style.top=y+"px"}}},{key:"checkStatus",value:function(e){"bubble"===this.props.eventPropagationMode&&e.stopPropagation(),this.state.show&&"true"===e.currentTarget.getAttribute("currentItem")?this.hideTooltip(e):(e.currentTarget.setAttribute("currentItem","true"),window.removeEventListener("click",this.bindClickListener),window.addEventListener("click",this.bindClickListener,"capture"===this.props.eventPropagationMode),this.showTooltip(e),this.setUntargetItems(e.currentTarget))}},{key:"setUntargetItems",value:function(currentTarget){for(var targetArray=this.getTargetArray(),i=0;i<targetArray.length;i++)currentTarget!==targetArray[i]?targetArray[i].setAttribute("currentItem","false"):targetArray[i].setAttribute("currentItem","true")}},{key:"bindClickListener",value:function(){this.globalHide(),window.removeEventListener("click",this.bindClickListener)}},{key:"showTooltip",value:function(e){var originTooltip=e.currentTarget.getAttribute("data-tip"),regexp=/<br\s*\/?>/,multiline=e.currentTarget.getAttribute("data-multiline")?e.currentTarget.getAttribute("data-multiline"):!!this.props.multiline&&this.props.multiline,tooltipText=void 0,multilineCount=0;tooltipText=multiline&&"false"!==multiline&&regexp.test(originTooltip)?originTooltip.split(regexp).map(function(d,i){return multilineCount+=1,_react2.default.createElement("span",{key:i,className:"multi-line"},d)}):originTooltip;var extraClass=e.currentTarget.getAttribute("data-class")?e.currentTarget.getAttribute("data-class"):"";extraClass=this.props.class?this.props.class+" "+extraClass:extraClass,this.setState({placeholder:tooltipText,multilineCount:multilineCount,place:e.currentTarget.getAttribute("data-place")?e.currentTarget.getAttribute("data-place"):this.props.place?this.props.place:"top",type:e.currentTarget.getAttribute("data-type")?e.currentTarget.getAttribute("data-type"):this.props.type?this.props.type:"dark",effect:e.currentTarget.getAttribute("data-effect")?e.currentTarget.getAttribute("data-effect"):this.props.effect?this.props.effect:"float",offset:e.currentTarget.getAttribute("data-offset")?e.currentTarget.getAttribute("data-offset"):this.props.offset?this.props.offset:{},html:e.currentTarget.getAttribute("data-html")?e.currentTarget.getAttribute("data-html"):!!this.props.html&&this.props.html,delayShow:e.currentTarget.getAttribute("data-delay-show")?e.currentTarget.getAttribute("data-delay-show"):this.props.delayShow?this.props.delayShow:0,delayHide:e.currentTarget.getAttribute("data-delay-hide")?e.currentTarget.getAttribute("data-delay-hide"):this.props.delayHide?this.props.delayHide:0,border:e.currentTarget.getAttribute("data-border")?"true"===e.currentTarget.getAttribute("data-border"):!!this.props.border&&this.props.border,extraClass:extraClass,multiline:multiline}),this.addScrollListener(),this.updateTooltip(e)}},{key:"updateTooltip",value:function(e){var _this3=this,_state=this.state,delayShow=_state.delayShow,show=_state.show,delayTime=show?0:parseInt(delayShow,10),eventTarget=e.currentTarget;clearTimeout(this.delayShowLoop),this.delayShowLoop=setTimeout(function(){if(_this3.trim(_this3.state.placeholder).length>0)if("float"===_this3.state.effect)_this3.setState({show:!0,x:e.clientX,y:e.clientY});else if("solid"===_this3.state.effect){var _getPosition2=_this3.getPosition(eventTarget),x=_getPosition2.x,y=_getPosition2.y;_this3.setState({show:!0,x:x,y:y})}},delayTime)}},{key:"hideTooltip",value:function(){var _this4=this,delayHide=this.state.delayHide;clearTimeout(this.delayShowLoop),setTimeout(function(){_this4.setState({show:!1}),_this4.removeScrollListener()},parseInt(delayHide,10))}},{key:"addScrollListener",value:function(){window.addEventListener("scroll",this.hideTooltip)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltip)}},{key:"getPosition",value:function(currentTarget){var _this5=this,place=this.state.place,node=_reactDom2.default.findDOMNode(this),boundingClientRect=currentTarget.getBoundingClientRect(),targetTop=boundingClientRect.top,targetLeft=boundingClientRect.left,tipWidth=node.clientWidth,tipHeight=node.clientHeight,targetWidth=currentTarget.clientWidth,targetHeight=currentTarget.clientHeight,windoWidth=window.innerWidth,windowHeight=window.innerHeight,x=void 0,y=void 0,defaultTopY=targetTop-tipHeight-8,defaultBottomY=targetTop+targetHeight+8,defaultLeftX=targetLeft-tipWidth-6,defaultRightX=targetLeft+targetWidth+6,outsideTop=function(){return defaultTopY-10<0},outsideBottom=function(){return targetTop+targetHeight+tipHeight+25>windowHeight},outsideLeft=function(){return defaultLeftX-10<0},outsideRight=function(){return targetLeft+targetWidth+tipWidth+25>windoWidth},getTopPositionY=function(){return outsideTop(defaultTopY)&&!outsideBottom()?(_this5.setState({place:"bottom"}),defaultBottomY):defaultTopY},getBottomPositionY=function(){return outsideBottom()&&!outsideTop()?(_this5.setState({place:"top"}),defaultTopY):defaultBottomY},getLeftPositionX=function(){return outsideLeft()&&!outsideRight()?(_this5.setState({place:"right"}),defaultRightX):defaultLeftX},getRightPositionX=function(){return outsideRight()&&!outsideLeft()?(_this5.setState({place:"left"}),defaultLeftX):defaultRightX};return"top"===place?(x=targetLeft-tipWidth/2+targetWidth/2,y=getTopPositionY()):"bottom"===place?(x=targetLeft-tipWidth/2+targetWidth/2,y=getBottomPositionY()):"left"===place?(x=getLeftPositionX(),y=targetTop+targetHeight/2-tipHeight/2):"right"===place&&(x=getRightPositionX(),y=targetTop+targetHeight/2-tipHeight/2),{x:x,y:y}}},{key:"updatePosition",value:function(){var node=_reactDom2.default.findDOMNode(this),tipWidth=node.clientWidth,tipHeight=node.clientHeight,_state2=this.state,effect=_state2.effect,place=_state2.place,offset=_state2.offset,offsetFromEffect={},placements=["top","bottom","left","right"];placements.forEach(function(key){offsetFromEffect[key]={x:0,y:0}}),"float"===effect&&(offsetFromEffect.top={x:-(tipWidth/2),y:-tipHeight},offsetFromEffect.bottom={x:-(tipWidth/2),y:15},offsetFromEffect.left={x:-(tipWidth+15),y:-(tipHeight/2)},offsetFromEffect.right={x:10,y:-(tipHeight/2)});var xPosition=0,yPosition=0;"[object String]"===Object.prototype.toString.apply(offset)&&(offset=JSON.parse(offset.toString().replace(/\'/g,'"')));for(var key in offset)"top"===key?yPosition-=parseInt(offset[key],10):"bottom"===key?yPosition+=parseInt(offset[key],10):"left"===key?xPosition-=parseInt(offset[key],10):"right"===key&&(xPosition+=parseInt(offset[key],10));var x=this.state.x,y=this.state.y,windoWidth=window.innerWidth,windowHeight=window.innerHeight,getStyleLeft=function(place){var offsetEffectX="solid"===effect?0:place?offsetFromEffect[place].x:0;return x+offsetEffectX+xPosition},getStyleTop=function(place){var offsetEffectY="solid"===effect?0:place?offsetFromEffect[place].y:0;return y+offsetEffectY+yPosition},outsideLeft=function(place){var styleLeft=getStyleLeft(place);return styleLeft<0&&x+offsetFromEffect.right.x+xPosition<=windoWidth},outsideRight=function(place){var styleLeft=getStyleLeft(place);return styleLeft+tipWidth>windoWidth&&x+offsetFromEffect.left.x+xPosition>=0},outsideTop=function(place){var styleTop=getStyleTop(place);return styleTop<0&&y+offsetFromEffect.bottom.y+yPosition+tipHeight<windowHeight},outsideBottom=function(place){var styleTop=getStyleTop(place);return styleTop+tipHeight>=windowHeight&&y+offsetFromEffect.top.y+yPosition>=0},outside=function(place){return outsideTop(place)||outsideRight(place)||outsideBottom(place)||outsideLeft(place)};if(outsideLeft(place)){if(!outside("right"))return void this.setState({place:"right"})}else if(outsideRight(place)){if(!outside("left"))return void this.setState({place:"left"})}else if(outsideTop(place)){if(!outside("bottom"))return void this.setState({place:"bottom"})}else if(outsideBottom(place)&&!outside("top"))return void this.setState({place:"top"});node.style.left=getStyleLeft(place)+"px",node.style.top=getStyleTop(place)+"px"}},{key:"setStyleHeader",value:function(){if(!document.getElementsByTagName("head")[0].querySelector('style[id="react-tooltip"]')){var tag=document.createElement("style");tag.id="react-tooltip",tag.innerHTML=_style2.default,document.getElementsByTagName("head")[0].appendChild(tag)}}},{key:"render",value:function(){var _state3=this.state,placeholder=_state3.placeholder,extraClass=_state3.extraClass,html=_state3.html,tooltipClass=(0,_classnames2.default)("__react_component_tooltip",{show:this.state.show},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type});if(html)return _react2.default.createElement("div",{className:tooltipClass+" "+extraClass,"data-id":"tooltip",dangerouslySetInnerHTML:{__html:placeholder}});var content=this.props.children?this.props.children:placeholder;return _react2.default.createElement("div",{className:tooltipClass+" "+extraClass,"data-id":"tooltip"},content)}},{key:"trim",value:function(string){if("[object String]"!==Object.prototype.toString.call(string))return string;for(var newString=string.split(""),firstCount=0,lastCount=0,i=0;i<string.length&&" "===string[i];i++)firstCount++;for(var i=string.length-1;i>=0&&" "===string[i];i--)lastCount++;return newString.splice(0,firstCount),newString.splice(-lastCount,lastCount),newString.join("")}}]),ReactTooltip}(_react.Component);ReactTooltip.propTypes={children:_react.PropTypes.any,place:_react.PropTypes.string,type:_react.PropTypes.string,effect:_react.PropTypes.string,offset:_react.PropTypes.object,multiline:_react.PropTypes.bool,border:_react.PropTypes.bool,class:_react.PropTypes.string,id:_react.PropTypes.string,html:_react.PropTypes.bool,delayHide:_react.PropTypes.number,delayShow:_react.PropTypes.number,event:_react.PropTypes.any,watchWindow:_react.PropTypes.bool,eventPropagationMode:_react.PropTypes.oneOf(["bubble","capture"])},ReactTooltip.defaultProps={eventPropagationMode:"bubble"},module.exports=ReactTooltip},42:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out , margin-top 0.3s ease-out, margin-left 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top:6px solid #222}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom:6px solid #222}.__react_component_tooltip.type-dark.place-left:after{border-left:6px solid #222}.__react_component_tooltip.type-dark.place-right:after{border-right:6px solid #222}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top:6px solid #8DC572}.__react_component_tooltip.type-success.place-bottom:after{border-bottom:6px solid #8DC572}.__react_component_tooltip.type-success.place-left:after{border-left:6px solid #8DC572}.__react_component_tooltip.type-success.place-right:after{border-right:6px solid #8DC572}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top:6px solid #F0AD4E}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom:6px solid #F0AD4E}.__react_component_tooltip.type-warning.place-left:after{border-left:6px solid #F0AD4E}.__react_component_tooltip.type-warning.place-right:after{border-right:6px solid #F0AD4E}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top:6px solid #BE6464}.__react_component_tooltip.type-error.place-bottom:after{border-bottom:6px solid #BE6464}.__react_component_tooltip.type-error.place-left:after{border-left:6px solid #BE6464}.__react_component_tooltip.type-error.place-right:after{border-right:6px solid #BE6464}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top:6px solid #337AB7}.__react_component_tooltip.type-info.place-bottom:after{border-bottom:6px solid #337AB7}.__react_component_tooltip.type-info.place-left:after{border-left:6px solid #337AB7}.__react_component_tooltip.type-info.place-right:after{border-right:6px solid #337AB7}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top:6px solid #fff}.__react_component_tooltip.type-light.place-bottom:after{border-bottom:6px solid #fff}.__react_component_tooltip.type-light.place-left:after{border-left:6px solid #fff}.__react_component_tooltip.type-light.place-right:after{border-right:6px solid #fff}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}';
},43:function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(41)},161:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_requests=__webpack_require__(12),_requests2=_interopRequireDefault(_requests),$=window.$,DataSourcesShareRender=_react2.default.createClass({displayName:"DataSourcesShareRender",componentDidMount:function(){this.initialize()},componentWillUpdate:function(){this.destroy()},componentDidUpdate:function(){this.initialize()},componentWillUnmount:function(){this.destroy()},initialize:function(){var _this=this;if(this.table){var sources=this.props.dataSources,sortedData=sources.sort(function(a,b){return a.get("name").localeCompare(b.get("name"))});$(this.table).bootgrid({formatters:{button:function(column,row){return"0"===row.actions?'<button class="btn  btn-sm btn-default share-edit"><i class="fa fa-share-alt"></i></button>':'<button class="btn  btn-sm btn-default share-ban disabled" ><i class="fa fa-ban disabled"></i></button>'}},selection:!0,rowSelect:!1,caseSensitive:!1,templates:{search:'<div class="{{css.search}}">\n                    <div class="input-group">\n                        <div class="input-group-addon">\n                            <i class="{{css.icon}} {{css.iconSearch}}">&thinsp;</i>\n                        </div>\n                        <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" />\n                    </div>\n                </div>'}}).on("click.rs.jquery.bootgrid",function(e,arr,cols,target){if(target){var elem=target.tagName,data=sortedData.getIn([cols.sln-1]);if("1"!==cols.actions)return"BUTTON"===elem||"I"===elem?_this.handleShare(data):void _this.handleShare(data)}})}},destroy:function(){this.table&&$(this.table).bootgrid("destroy").off("click.row-select")},handleSelect:function(data){"function"==typeof this.props.onSelect&&this.props.onSelect(data)},handleShare:function(_data){var dataSourceType=this.props.dataSourceType,formData=_data.get("data").toJS(),dummyData={data:function(type){switch(type){case"type":return"dataSource";case"id":return formData.id;case"classifier":return dataSourceType.get("classifier");case"dir":return formData.dir;case"dataSourceProvider":return _data.get("dataSourceProvider")}}};HDIUI.filebrowser.showShare(dummyData)},handleTest:function(data){var dataSourceType=this.props.dataSourceType,formData=data.get("data").toJS();formData.classifier=dataSourceType.get("classifier"),_requests2.default.core.quickTest(formData,function(){})},render:function(){var _this2=this,dataSources=this.props.dataSources,sortedData=dataSources.sort(function(a,b){return a.get("name").localeCompare(b.get("name"))});return _react2.default.createElement("div",null,dataSources.size>0?_react2.default.createElement("table",{key:Math.random().toString(36).substring(7),ref:function(c){return _this2.table=c},className:"table table-hover table-condensed"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",{"data-column-id":"sln","data-type":"numeric","data-searchable":"false"},"S no."),_react2.default.createElement("th",{"data-column-id":"name"},"Name"),_react2.default.createElement("th",{"data-column-id":"cnid","data-type":"numeric"},"Conn. Id"),dataSources.getIn([0,"data","dir"])?_react2.default.createElement("th",{"data-column-id":"dir","data-searchable":"false","data-sortable":"false"},"Dir"):null,_react2.default.createElement("th",{"data-column-id":"actions","data-formatter":"button","data-searchable":"false","data-sortable":"false"},"Actions"))),_react2.default.createElement("tbody",null,sortedData.map(function(source,index){return _react2.default.createElement("tr",{key:index},_react2.default.createElement("td",null,index+1),_react2.default.createElement("td",null,source.get("name")),_react2.default.createElement("td",null,source.getIn(["data","id"])),source.getIn(["data","dir"])?_react2.default.createElement("td",null,source.getIn(["data","dir"])):null,source.get("permissionLevel")>2?_react2.default.createElement("td",null,"0"):_react2.default.createElement("td",null,"1"))}))):_react2.default.createElement("p",{className:"text-muted text-center"},"No dataSources are available"))}});exports.default=DataSourcesShareRender},164:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(5),_classnames2=_interopRequireDefault(_classnames),_flux=__webpack_require__(21),_flux2=_interopRequireDefault(_flux),_requests=__webpack_require__(12),_requests2=_interopRequireDefault(_requests),_dataSourceTypes=__webpack_require__(27),_dataSourceTypes2=_interopRequireDefault(_dataSourceTypes),_dataSourceShareRender=__webpack_require__(161),_dataSourceShareRender2=_interopRequireDefault(_dataSourceShareRender),PropTypes=_react2.default.PropTypes,SelectShareDataSource=_react2.default.createClass({displayName:"SelectShareDataSource",propTypes:{bare:PropTypes.bool,skipSchemas:PropTypes.bool},getInitialState:function(){return _flux2.default.dataSource.store.getState()},componentDidMount:function(){_flux2.default.dataSource.store.listen(this.handleChange),_requests2.default.adhoc.listDataSourceTypes(function(data){_flux2.default.dataSource.actions.loadDataSourceTypes(data)})},componentWillUnmount:function(){_flux2.default.dataSource.store.unlisten(this.handleChange)},handleChange:function(){this.setState(this.getInitialState())},handleTypeSelect:function(type){return _flux2.default.dataSource.actions.selectDataSourceType(type),["efwd","global"].indexOf(type.get("classifier"))<0?void _flux2.default.dataSource.actions.loadDataSources([]):void _requests2.default.adhoc.listDataSources(type.toJS(),function(data){_flux2.default.dataSource.actions.loadDataSources(data.dataSources)})},handleSourceSelect:function(data){var _this=this;_flux2.default.dataSource.actions.selectDataSource(data);var hasCallback="function"==typeof this.props.onSelectSource,dataSourceType=this.state.selectedDataSourceType.toJS();if(this.props.skipSchemas&&hasCallback)this.props.onSelectSource(data.toJS(),dataSourceType);else{var formData=data.get("data").toJS();formData.provideSchemas=!0,_requests2.default.adhoc.fetchMetadata(formData,function(res){Array.isArray(res.schemas)&&res.schemas.length?(_flux2.default.dataSource.actions.loadSchemas(res.schemas),_this.schema.show()):hasCallback&&_this.props.onSelectSource(data.toJS(),dataSourceType)})}},render:function(){var _state=this.state,dataSources=_state.dataSources,dataSourceTypes=_state.dataSourceTypes,selectedDataSourceType=_state.selectedDataSourceType,bare=this.props.bare,wrapper=(0,_classnames2.default)({"col-sm-12":bare,"col-sm-8 col-md-4":!bare});return _react2.default.createElement("div",{className:"datasource-selector"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:wrapper},_react2.default.createElement(_dataSourceTypes2.default,{selectNone:!0,dataSources:dataSourceTypes,onChange:this.handleTypeSelect}))),_react2.default.createElement(_dataSourceShareRender2.default,{dataSources:dataSources,dataSourceType:selectedDataSourceType}))}});exports.default=SelectShareDataSource}});
//# sourceMappingURL=datasource-share.js.map