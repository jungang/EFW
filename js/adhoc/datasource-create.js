webpackJsonp([2],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(9),_editor=__webpack_require__(67),_editor2=_interopRequireDefault(_editor);(0,_reactDom.render)(_react2.default.createElement(_editor2.default,{mode:"create"}),document.getElementById("main"))},,,,,,,,,,,,function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),$=window.$,postRequest=function(url,options,callback,errback){var xhr=$.ajax({url:url,type:"post",data:options,headers:{currentTime:(new Date).getTime()}});return xhr.done(function(data){if("string"==typeof data)try{data=JSON.parse(data)}catch(e){return}var _data=data,status=_data.status,response=_data.response;status?callback(response):"function"==typeof errback&&errback(response)}).error(function(response){return"function"==typeof errback&&errback(response)}),xhr},getRequest=function(url,options,callback){"function"==typeof options&&(callback=options,options=null);var xhr=$.ajax({url:url,type:"get",data:options});return xhr.done(function(data){"string"==typeof data&&(data=JSON.parse(data)),callback(data)}),xhr},servicesRequest=function(uri,formData,callback,errback){var _uri$split=uri.split("/"),_uri$split2=_slicedToArray(_uri$split,3),type=_uri$split2[0],serviceType=_uri$split2[1],service=_uri$split2[2];formData=JSON.stringify(formData);var options={type:type,serviceType:serviceType,service:service,formData:formData};return postRequest(window.HDI.adhoc.urls.services,options,callback,errback)};exports.default={adhoc:{listDataSourceTypes:function(callback){return getRequest(window.HDI.adhoc.urls.createDataSource,callback)},listDataSources:function(formData,callback){return getRequest(window.HDI.adhoc.urls.listDataSources,formData,callback)},getResources:function(formData,callback){return getRequest(window.HDI.adhoc.urls.getResources,{extensions:JSON.stringify(formData)},callback)},getTotalCount:function(formData,callback){return servicesRequest("adhoc/report/getTotalCount",formData,callback)},getTemplateSettings:function(formData,callback){return servicesRequest("print/export/getExportSettings",formData,callback)},getAvailableFrames:function(formData,callback){return servicesRequest("print/export/getTemplateList",formData,callback)},addFrameToFramesList:function(formData,callback){return servicesRequest("print/export/saveTemplate",formData,callback)}},core:{testDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/test",formData,callback,errback)},createDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/write",formData,callback,errback)},updateDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/update",formData,callback,errback)},readDataSource:function(formData,callback,errback){return servicesRequest("core/dataSource/read",formData,callback,errback)},quickTest:function(formData,callback,errback){return servicesRequest("core/dataSource/quickTest",formData,callback,errback)}}}},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(5),_classnames2=_interopRequireDefault(_classnames),_validator=__webpack_require__(39),Input=_react2.default.createClass({displayName:"Input",getDefaultProps:function(){return{message:"Please provide a valid input"}},getInitialState:function(){return{hasError:!1}},resetError:function(){this.setState(this.getInitialState())},setError:function(){this.setState({hasError:!0})},getVal:function(){return this.input.value},handleBlur:function(e){var _props=this.props,validateOn=_props.validateOn,onBlur=_props.onBlur;validateOn&&validateOn.toLowerCase().indexOf("blur")>-1&&this.validate(),"function"==typeof onBlur&&onBlur(e)},handleChange:function(e){var _props2=this.props,validateOn=_props2.validateOn,onChange=_props2.onChange;validateOn&&validateOn.toLowerCase().indexOf("change")>-1&&this.validate(),"function"==typeof onChange&&onChange(e)},validate:function(){var rules=this.props.rules,value=this.getVal(),valid=!0;try{(0,_validator.validate)(value,rules)}catch(e){valid=!1}finally{return valid?(this.resetError(),!0):(this.setError(),!1)}},render:function(){var _this=this,_props3=this.props,label=_props3.label,message=(_props3.onBlur,_props3.onChange,_props3.message),props=_objectWithoutProperties(_props3,["label","onBlur","onChange","message"]),hasError=this.state.hasError,groupClasses=(0,_classnames2.default)({"form-group":!0,"has-error":hasError});return _react2.default.createElement("div",{className:groupClasses},label?_react2.default.createElement("label",null,label):null,_react2.default.createElement("input",_extends({ref:function(c){return _this.input=c}},props,{onBlur:this.handleBlur,onChange:this.handleChange})),hasError?_react2.default.createElement("span",{className:"error-msg"},message):null)}});exports.default=Input},,function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var $=window.$;$.notifyDefaults({position:"fixed",placement:{from:"bottom",align:"right"},mouse_over:"pause",delay:3e3,timer:1e3}),exports.default={info:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-info";return $.notify({message:message,icon:icon},{type:"info"})},warn:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-exclamation-triangle";return $.notify({message:message,icon:icon},{type:"warning"})},success:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-check";return $.notify({message:message,icon:icon},{type:"success"})},danger:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-times";return console.warn("Notify.danger is deprecated, use Notify.error instead"),$.notify({message:message,icon:icon},{type:"danger"})},error:function(message){var icon=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fa fa-times";return $.notify({message:message,icon:icon},{type:"danger"})}}},,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),DataSourceTypes=_react2.default.createClass({displayName:"DataSourceTypes",propTypes:{disabled:_react.PropTypes.bool,selectNone:_react.PropTypes.bool,value:_react.PropTypes.string},handleChange:function(event){var selectedType=event.target.value,_props=this.props,onChange=_props.onChange,dataSources=_props.dataSources;"function"==typeof onChange&&onChange(dataSources.get(selectedType))},render:function(){var _props2=this.props,value=_props2.value,disabled=_props2.disabled,dataSources=_props2.dataSources,selectNone=_props2.selectNone,selectedIndex=value?dataSources.findIndex(function(c){return c.get("type")===value}):"";return _react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",null,"DataSource Type"),_react2.default.createElement("select",{className:"form-control",defaultValue:selectedIndex,disabled:disabled,onChange:this.handleChange},selectNone?_react2.default.createElement("option",{disabled:!0,value:""},"<Please select a data source>"):null,dataSources.map(function(val,i){return _react2.default.createElement("option",{key:i,value:i},val.get("name"))})))}});exports.default=DataSourceTypes},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function abortAllRequests(){for(var i=0,l=$.ajaxQueue.length;i<l;i++){var request=$.ajaxQueue[i];"function"==typeof request.abort&&request.abort()}$.ajaxQueue.length>0&&($.ajaxQueue=[])}function removeRequest(identifier){$.ajaxQueue=_lodash2.default.filter($.ajaxQueue,function(obj){return obj.identifier!==identifier})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactBootstrapModal=__webpack_require__(24),_reactBootstrapModal2=_interopRequireDefault(_reactBootstrapModal),_notify=__webpack_require__(22),_notify2=_interopRequireDefault(_notify),_lodash=__webpack_require__(14),_lodash2=_interopRequireDefault(_lodash),_utils=__webpack_require__(37),$=window.jQuery;$.ajaxQueue=$.ajaxQueue||[];var AjaxBlock=_react2.default.createClass({displayName:"AjaxBlock",propTypes:{autostart:_react.PropTypes.bool},getInitialState:function(){return{visible:this.props.autostart,seconds:0,requests:$.active||0}},componentDidMount:function(){var _this=this;$(document).on("ajaxStart.reactBSModal",function(){_this._noBlock||_this.show()}).on("ajaxSend.reactBSModal",function(evt,xhr,settings){_this.updateRequestsCount(0),settings._noBlock&&(_this._noBlock=!0,_this.hide()),xhr.identifier=(0,_utils.randomString)(),xhr.setRequestHeader("currentTime",(new Date).getTime()),$.ajaxQueue.push(xhr)}).on("ajaxSuccess.reactBSModal",function(evt,xhr){removeRequest(xhr.identifier)}).on("ajaxComplete.reactBSModal",function(evt,xhr,settings){_this.updateRequestsCount(-1),settings._noBlock&&(_this._noBlock=!1)}).on("ajaxStop.reactBSModal",function(){_this.hide()}).on("ajaxError.reactBSModal",function(){_notify2.default.error("There was problem in completing your request"),_this.hide(),abortAllRequests()})},componentWillUnmount:function(){$(document).off("ajaxStart.reactBSModal ajaxSend.reactBSModal ajaxSuccess.reactBSModal ajaxComplete.reactBSModal ajaxStop.reactBSModal ajaxError.reactBSModal"),this.timer&&clearInterval(this.timer)},updateRequestsCount:function(){var num=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setState({requests:$.active+num})},tick:function(){var seconds=this.state.seconds+1;this.setState({seconds:seconds})},show:function(){this.setState({visible:!0}),this.timer=setInterval(this.tick,1e3)},hide:function(){this.setState({visible:!1,seconds:0}),this.timer&&clearInterval(this.timer)},handleCancel:function(){abortAllRequests(),this.hide()},getTime:function(){var min=Math.floor(this.state.seconds/60),sec=this.state.seconds%60;return sec=("0"+sec).substr(-2),min+":"+sec},render:function(){return _react2.default.createElement(_reactBootstrapModal2.default,{show:this.state.visible,onHide:this.handleCancel,backdrop:"static"},_react2.default.createElement(_reactBootstrapModal.Header,null,_react2.default.createElement("h4",{className:"modal-title"},_react2.default.createElement("span",null,"Updating"),_react2.default.createElement("i",{className:"fa fa-repeat fa-spin pull-right"}))),_react2.default.createElement(_reactBootstrapModal.Body,null,_react2.default.createElement("p",null,_react2.default.createElement("b",null,"Please wait while your request is being processed...")),_react2.default.createElement("p",null,"Pending requests: ",this.state.requests)),_react2.default.createElement(_reactBootstrapModal.Footer,null,_react2.default.createElement("p",{className:"pull-left text-danger"},"Time elapsed: ",this.getTime()),_react2.default.createElement(_reactBootstrapModal.Dismiss,{className:"btn btn-danger"},"Close")))}});exports.default=AjaxBlock},,,,,function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var ua=window.navigator.userAgent;return/Firefox\/([0-9\.]+)(?:\s|$)/.test(ua)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0&&parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var ua=window.navigator.userAgent;return ua.indexOf("PhantomJS")>-1}},function(module,exports){"use strict";function extractDir(path,file){return path.replace(file,"").replace(/^\/|\/$/g,"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=extractDir},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _strings=__webpack_require__(38);Object.keys(_strings).forEach(function(key){"default"!==key&&"__esModule"!==key&&Object.defineProperty(exports,key,{enumerable:!0,get:function(){return _strings[key]}})});var _extractDir=__webpack_require__(36);Object.defineProperty(exports,"extractDir",{enumerable:!0,get:function(){return _interopRequireDefault(_extractDir).default}});var _detectIe=__webpack_require__(34);Object.defineProperty(exports,"detectIE",{enumerable:!0,get:function(){return _interopRequireDefault(_detectIe).default}});var _detectPhantom=__webpack_require__(35);Object.defineProperty(exports,"detectPhantom",{enumerable:!0,get:function(){return _interopRequireDefault(_detectPhantom).default}});var _detectFirefox=__webpack_require__(33);Object.defineProperty(exports,"detectFirefox",{enumerable:!0,get:function(){return _interopRequireDefault(_detectFirefox).default}})},function(module,exports){"use strict";function randomString(){return Math.random().toString(36).substring(2)}function escapeCodeMirrorString(str){return str.replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0").replace(/\n/g,"")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.randomString=randomString,exports.escapeCodeMirrorString=escapeCodeMirrorString},function(module,exports,__webpack_require__){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function validate(data,validations){for(var rulesList=validations.split("|"),i=0,l=rulesList.length;i<l;i++){var rule=rulesList[i],invert=rule.replace(/^\s+/g,"").match(/^!/),result=void 0;if(invert&&(rule=rule.replace(/^\s+/g,"").replace(/^!/,"")),"optional"===rule){if(data.length>=1)continue;break}if(rule.indexOf("(")>-1){var start=rule.indexOf("("),end=rule.lastIndexOf(")"),method=rule.slice(0,start),exp=rule.slice(start+1,end);if("function"!=typeof _rules.default[method])continue;result=!_rules.default[method](data,exp)}else{if("function"!=typeof _rules.default[rule])continue;result=!_rules.default[rule](data)}if(invert&&(result=!result),result)throw new Error("Validtion failed on: "+rule)}return!0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rules=void 0,exports.validate=validate;var _rules2=__webpack_require__(77),_rules=_interopRequireWildcard(_rules2);exports.rules=_rules},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(9),_reactDom2=_interopRequireDefault(_reactDom),_classnames=__webpack_require__(5),_classnames2=_interopRequireDefault(_classnames),_style=__webpack_require__(42),_style2=_interopRequireDefault(_style),ReactTooltip=function(_Component){function ReactTooltip(props){_classCallCheck(this,ReactTooltip);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(ReactTooltip).call(this,props));return _this._bind("showTooltip","updateTooltip","hideTooltip","checkStatus","onWindowResize","bindClickListener","globalHide","globalRebuild"),_this.mount=!0,_this.state={show:!1,border:!1,multilineCount:0,placeholder:"",x:"NONE",y:"NONE",place:"",type:"",effect:"",multiline:!1,offset:{},extraClass:"",html:!1,delayHide:0,delayShow:0,event:props.event||null},_this.delayShowLoop=null,_this}return _inherits(ReactTooltip,_Component),_createClass(ReactTooltip,[{key:"globalHide",value:function(){this.mount&&this.hideTooltip()}},{key:"globalRebuild",value:function(){this.mount&&(this.unbindListener(),this.bindListener())}}],[{key:"hide",value:function(){if("function"==typeof window.Event)window.dispatchEvent(new window.Event("__react_tooltip_hide_event"));else{var event=document.createEvent("Event");event.initEvent("__react_tooltip_hide_event",!1,!0),window.dispatchEvent(event)}}},{key:"rebuild",value:function(){if("function"==typeof window.Event)window.dispatchEvent(new window.Event("__react_tooltip_rebuild_event"));else{var event=document.createEvent("Event");event.initEvent("__react_tooltip_rebuild_event",!1,!0),window.dispatchEvent(event)}}}]),_createClass(ReactTooltip,[{key:"_bind",value:function(){for(var _this2=this,_len=arguments.length,handlers=Array(_len),_key=0;_key<_len;_key++)handlers[_key]=arguments[_key];handlers.forEach(function(handler){return _this2[handler]=_this2[handler].bind(_this2)})}},{key:"componentDidMount",value:function(){this.bindListener(),this.setStyleHeader(),window.removeEventListener("__react_tooltip_hide_event",this.globalHide),window.addEventListener("__react_tooltip_hide_event",this.globalHide,!1),window.removeEventListener("__react_tooltip_rebuild_event",this.globalRebuild),window.addEventListener("__react_tooltip_rebuild_event",this.globalRebuild,!1),window.removeEventListener("resize",this.onWindowResize),window.addEventListener("resize",this.onWindowResize,!1)}},{key:"componentWillUpdate",value:function(){this.unbindListener()}},{key:"componentDidUpdate",value:function(){this.updatePosition(),this.bindListener()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.delayShowLoop),this.unbindListener(),this.removeScrollListener(),this.mount=!1,window.removeEventListener("__react_tooltip_hide_event",this.globalHide),window.removeEventListener("__react_tooltip_rebuild_event",this.globalRebuild),window.removeEventListener("resize",this.onWindowResize)}},{key:"bindListener",value:function(){for(var targetArray=this.getTargetArray(),dataEvent=void 0,i=0;i<targetArray.length;i++)null===targetArray[i].getAttribute("currentItem")&&targetArray[i].setAttribute("currentItem","false"),dataEvent=this.state.event||targetArray[i].getAttribute("data-event"),dataEvent?(targetArray[i].removeEventListener(dataEvent,this.checkStatus),targetArray[i].addEventListener(dataEvent,this.checkStatus,!1)):(targetArray[i].removeEventListener("mouseenter",this.showTooltip),targetArray[i].addEventListener("mouseenter",this.showTooltip,!1),"float"===this.state.effect&&(targetArray[i].removeEventListener("mousemove",this.updateTooltip),targetArray[i].addEventListener("mousemove",this.updateTooltip,!1)),targetArray[i].removeEventListener("mouseleave",this.hideTooltip),targetArray[i].addEventListener("mouseleave",this.hideTooltip,!1))}},{key:"unbindListener",value:function(){for(var targetArray=document.querySelectorAll("[data-tip]"),dataEvent=void 0,i=0;i<targetArray.length;i++)dataEvent=this.state.event||targetArray[i].getAttribute("data-event"),dataEvent?targetArray[i].removeEventListener(dataEvent,this.checkStatus):(targetArray[i].removeEventListener("mouseenter",this.showTooltip),targetArray[i].removeEventListener("mousemove",this.updateTooltip),targetArray[i].removeEventListener("mouseleave",this.hideTooltip))}},{key:"getTargetArray",value:function(){var id=this.props.id,targetArray=void 0;return targetArray=void 0===id?document.querySelectorAll("[data-tip]:not([data-for])"):document.querySelectorAll('[data-tip][data-for="'+id+'"]')}},{key:"onWindowResize",value:function(){if(this.mount)for(var targetArray=this.getTargetArray(),i=0;i<targetArray.length;i++)if("true"===targetArray[i].getAttribute("currentItem")){var _getPosition=this.getPosition(targetArray[i]),x=_getPosition.x,y=_getPosition.y;_reactDom2.default.findDOMNode(this).style.left=x+"px",_reactDom2.default.findDOMNode(this).style.top=y+"px"}}},{key:"checkStatus",value:function(e){"bubble"===this.props.eventPropagationMode&&e.stopPropagation(),this.state.show&&"true"===e.currentTarget.getAttribute("currentItem")?this.hideTooltip(e):(e.currentTarget.setAttribute("currentItem","true"),window.removeEventListener("click",this.bindClickListener),window.addEventListener("click",this.bindClickListener,"capture"===this.props.eventPropagationMode),this.showTooltip(e),this.setUntargetItems(e.currentTarget))}},{key:"setUntargetItems",value:function(currentTarget){for(var targetArray=this.getTargetArray(),i=0;i<targetArray.length;i++)currentTarget!==targetArray[i]?targetArray[i].setAttribute("currentItem","false"):targetArray[i].setAttribute("currentItem","true")}},{key:"bindClickListener",value:function(){this.globalHide(),window.removeEventListener("click",this.bindClickListener)}},{key:"showTooltip",value:function(e){var originTooltip=e.currentTarget.getAttribute("data-tip"),regexp=/<br\s*\/?>/,multiline=e.currentTarget.getAttribute("data-multiline")?e.currentTarget.getAttribute("data-multiline"):!!this.props.multiline&&this.props.multiline,tooltipText=void 0,multilineCount=0;tooltipText=multiline&&"false"!==multiline&&regexp.test(originTooltip)?originTooltip.split(regexp).map(function(d,i){return multilineCount+=1,_react2.default.createElement("span",{key:i,className:"multi-line"},d)}):originTooltip;var extraClass=e.currentTarget.getAttribute("data-class")?e.currentTarget.getAttribute("data-class"):"";extraClass=this.props.class?this.props.class+" "+extraClass:extraClass,this.setState({placeholder:tooltipText,multilineCount:multilineCount,place:e.currentTarget.getAttribute("data-place")?e.currentTarget.getAttribute("data-place"):this.props.place?this.props.place:"top",type:e.currentTarget.getAttribute("data-type")?e.currentTarget.getAttribute("data-type"):this.props.type?this.props.type:"dark",effect:e.currentTarget.getAttribute("data-effect")?e.currentTarget.getAttribute("data-effect"):this.props.effect?this.props.effect:"float",offset:e.currentTarget.getAttribute("data-offset")?e.currentTarget.getAttribute("data-offset"):this.props.offset?this.props.offset:{},html:e.currentTarget.getAttribute("data-html")?e.currentTarget.getAttribute("data-html"):!!this.props.html&&this.props.html,delayShow:e.currentTarget.getAttribute("data-delay-show")?e.currentTarget.getAttribute("data-delay-show"):this.props.delayShow?this.props.delayShow:0,delayHide:e.currentTarget.getAttribute("data-delay-hide")?e.currentTarget.getAttribute("data-delay-hide"):this.props.delayHide?this.props.delayHide:0,border:e.currentTarget.getAttribute("data-border")?"true"===e.currentTarget.getAttribute("data-border"):!!this.props.border&&this.props.border,extraClass:extraClass,multiline:multiline}),this.addScrollListener(),this.updateTooltip(e)}},{key:"updateTooltip",value:function(e){var _this3=this,_state=this.state,delayShow=_state.delayShow,show=_state.show,delayTime=show?0:parseInt(delayShow,10),eventTarget=e.currentTarget;clearTimeout(this.delayShowLoop),this.delayShowLoop=setTimeout(function(){if(_this3.trim(_this3.state.placeholder).length>0)if("float"===_this3.state.effect)_this3.setState({show:!0,x:e.clientX,y:e.clientY});else if("solid"===_this3.state.effect){var _getPosition2=_this3.getPosition(eventTarget),x=_getPosition2.x,y=_getPosition2.y;_this3.setState({show:!0,x:x,y:y})}},delayTime)}},{key:"hideTooltip",value:function(){var _this4=this,delayHide=this.state.delayHide;clearTimeout(this.delayShowLoop),setTimeout(function(){_this4.setState({show:!1}),_this4.removeScrollListener()},parseInt(delayHide,10))}},{key:"addScrollListener",value:function(){window.addEventListener("scroll",this.hideTooltip)}},{key:"removeScrollListener",value:function(){window.removeEventListener("scroll",this.hideTooltip)}},{key:"getPosition",value:function(currentTarget){var _this5=this,place=this.state.place,node=_reactDom2.default.findDOMNode(this),boundingClientRect=currentTarget.getBoundingClientRect(),targetTop=boundingClientRect.top,targetLeft=boundingClientRect.left,tipWidth=node.clientWidth,tipHeight=node.clientHeight,targetWidth=currentTarget.clientWidth,targetHeight=currentTarget.clientHeight,windoWidth=window.innerWidth,windowHeight=window.innerHeight,x=void 0,y=void 0,defaultTopY=targetTop-tipHeight-8,defaultBottomY=targetTop+targetHeight+8,defaultLeftX=targetLeft-tipWidth-6,defaultRightX=targetLeft+targetWidth+6,outsideTop=function(){return defaultTopY-10<0},outsideBottom=function(){return targetTop+targetHeight+tipHeight+25>windowHeight},outsideLeft=function(){return defaultLeftX-10<0},outsideRight=function(){return targetLeft+targetWidth+tipWidth+25>windoWidth},getTopPositionY=function(){return outsideTop(defaultTopY)&&!outsideBottom()?(_this5.setState({place:"bottom"}),defaultBottomY):defaultTopY},getBottomPositionY=function(){return outsideBottom()&&!outsideTop()?(_this5.setState({place:"top"}),defaultTopY):defaultBottomY},getLeftPositionX=function(){return outsideLeft()&&!outsideRight()?(_this5.setState({place:"right"}),defaultRightX):defaultLeftX},getRightPositionX=function(){return outsideRight()&&!outsideLeft()?(_this5.setState({place:"left"}),defaultLeftX):defaultRightX};return"top"===place?(x=targetLeft-tipWidth/2+targetWidth/2,y=getTopPositionY()):"bottom"===place?(x=targetLeft-tipWidth/2+targetWidth/2,y=getBottomPositionY()):"left"===place?(x=getLeftPositionX(),y=targetTop+targetHeight/2-tipHeight/2):"right"===place&&(x=getRightPositionX(),y=targetTop+targetHeight/2-tipHeight/2),{x:x,y:y}}},{key:"updatePosition",value:function(){var node=_reactDom2.default.findDOMNode(this),tipWidth=node.clientWidth,tipHeight=node.clientHeight,_state2=this.state,effect=_state2.effect,place=_state2.place,offset=_state2.offset,offsetFromEffect={},placements=["top","bottom","left","right"];placements.forEach(function(key){offsetFromEffect[key]={x:0,y:0}}),"float"===effect&&(offsetFromEffect.top={x:-(tipWidth/2),y:-tipHeight},offsetFromEffect.bottom={x:-(tipWidth/2),y:15},offsetFromEffect.left={x:-(tipWidth+15),y:-(tipHeight/2)},offsetFromEffect.right={x:10,y:-(tipHeight/2)});var xPosition=0,yPosition=0;"[object String]"===Object.prototype.toString.apply(offset)&&(offset=JSON.parse(offset.toString().replace(/\'/g,'"')));for(var key in offset)"top"===key?yPosition-=parseInt(offset[key],10):"bottom"===key?yPosition+=parseInt(offset[key],10):"left"===key?xPosition-=parseInt(offset[key],10):"right"===key&&(xPosition+=parseInt(offset[key],10));var x=this.state.x,y=this.state.y,windoWidth=window.innerWidth,windowHeight=window.innerHeight,getStyleLeft=function(place){var offsetEffectX="solid"===effect?0:place?offsetFromEffect[place].x:0;return x+offsetEffectX+xPosition},getStyleTop=function(place){var offsetEffectY="solid"===effect?0:place?offsetFromEffect[place].y:0;return y+offsetEffectY+yPosition},outsideLeft=function(place){var styleLeft=getStyleLeft(place);return styleLeft<0&&x+offsetFromEffect.right.x+xPosition<=windoWidth},outsideRight=function(place){var styleLeft=getStyleLeft(place);return styleLeft+tipWidth>windoWidth&&x+offsetFromEffect.left.x+xPosition>=0},outsideTop=function(place){var styleTop=getStyleTop(place);return styleTop<0&&y+offsetFromEffect.bottom.y+yPosition+tipHeight<windowHeight},outsideBottom=function(place){var styleTop=getStyleTop(place);return styleTop+tipHeight>=windowHeight&&y+offsetFromEffect.top.y+yPosition>=0},outside=function(place){return outsideTop(place)||outsideRight(place)||outsideBottom(place)||outsideLeft(place)};if(outsideLeft(place)){if(!outside("right"))return void this.setState({place:"right"})}else if(outsideRight(place)){if(!outside("left"))return void this.setState({place:"left"})}else if(outsideTop(place)){if(!outside("bottom"))return void this.setState({place:"bottom"})}else if(outsideBottom(place)&&!outside("top"))return void this.setState({place:"top"});node.style.left=getStyleLeft(place)+"px",node.style.top=getStyleTop(place)+"px"}},{key:"setStyleHeader",value:function(){if(!document.getElementsByTagName("head")[0].querySelector('style[id="react-tooltip"]')){var tag=document.createElement("style");tag.id="react-tooltip",tag.innerHTML=_style2.default,document.getElementsByTagName("head")[0].appendChild(tag)}}},{key:"render",value:function(){var _state3=this.state,placeholder=_state3.placeholder,extraClass=_state3.extraClass,html=_state3.html,tooltipClass=(0,_classnames2.default)("__react_component_tooltip",{show:this.state.show},{border:this.state.border},{"place-top":"top"===this.state.place},{"place-bottom":"bottom"===this.state.place},{"place-left":"left"===this.state.place},{"place-right":"right"===this.state.place},{"type-dark":"dark"===this.state.type},{"type-success":"success"===this.state.type},{"type-warning":"warning"===this.state.type},{"type-error":"error"===this.state.type},{"type-info":"info"===this.state.type},{"type-light":"light"===this.state.type});if(html)return _react2.default.createElement("div",{className:tooltipClass+" "+extraClass,"data-id":"tooltip",dangerouslySetInnerHTML:{__html:placeholder}});var content=this.props.children?this.props.children:placeholder;return _react2.default.createElement("div",{className:tooltipClass+" "+extraClass,"data-id":"tooltip"},content)}},{key:"trim",value:function(string){if("[object String]"!==Object.prototype.toString.call(string))return string;for(var newString=string.split(""),firstCount=0,lastCount=0,i=0;i<string.length&&" "===string[i];i++)firstCount++;for(var i=string.length-1;i>=0&&" "===string[i];i--)lastCount++;
return newString.splice(0,firstCount),newString.splice(-lastCount,lastCount),newString.join("")}}]),ReactTooltip}(_react.Component);ReactTooltip.propTypes={children:_react.PropTypes.any,place:_react.PropTypes.string,type:_react.PropTypes.string,effect:_react.PropTypes.string,offset:_react.PropTypes.object,multiline:_react.PropTypes.bool,border:_react.PropTypes.bool,class:_react.PropTypes.string,id:_react.PropTypes.string,html:_react.PropTypes.bool,delayHide:_react.PropTypes.number,delayShow:_react.PropTypes.number,event:_react.PropTypes.any,watchWindow:_react.PropTypes.bool,eventPropagationMode:_react.PropTypes.oneOf(["bubble","capture"])},ReactTooltip.defaultProps={eventPropagationMode:"bubble"},module.exports=ReactTooltip},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default='.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out , margin-top 0.3s ease-out, margin-left 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top:6px solid #222}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom:6px solid #222}.__react_component_tooltip.type-dark.place-left:after{border-left:6px solid #222}.__react_component_tooltip.type-dark.place-right:after{border-right:6px solid #222}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top:6px solid #8DC572}.__react_component_tooltip.type-success.place-bottom:after{border-bottom:6px solid #8DC572}.__react_component_tooltip.type-success.place-left:after{border-left:6px solid #8DC572}.__react_component_tooltip.type-success.place-right:after{border-right:6px solid #8DC572}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top:6px solid #F0AD4E}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom:6px solid #F0AD4E}.__react_component_tooltip.type-warning.place-left:after{border-left:6px solid #F0AD4E}.__react_component_tooltip.type-warning.place-right:after{border-right:6px solid #F0AD4E}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top:6px solid #BE6464}.__react_component_tooltip.type-error.place-bottom:after{border-bottom:6px solid #BE6464}.__react_component_tooltip.type-error.place-left:after{border-left:6px solid #BE6464}.__react_component_tooltip.type-error.place-right:after{border-right:6px solid #BE6464}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top:6px solid #337AB7}.__react_component_tooltip.type-info.place-bottom:after{border-bottom:6px solid #337AB7}.__react_component_tooltip.type-info.place-left:after{border-left:6px solid #337AB7}.__react_component_tooltip.type-info.place-right:after{border-right:6px solid #337AB7}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top:6px solid #fff}.__react_component_tooltip.type-light.place-bottom:after{border-bottom:6px solid #fff}.__react_component_tooltip.type-light.place-left:after{border-left:6px solid #fff}.__react_component_tooltip.type-light.place-right:after{border-right:6px solid #fff}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}'},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(41)},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(5),_classnames2=_interopRequireDefault(_classnames),_validator=__webpack_require__(39),Select=_react2.default.createClass({displayName:"Select",getDefaultProps:function(){return{message:"Please provide a valid input"}},getInitialState:function(){return{hasError:!1}},resetError:function(){this.setState(this.getInitialState())},setError:function(){this.setState({hasError:!0})},getVal:function(){return this.input.value},handleBlur:function(e){var _props=this.props,validateOn=_props.validateOn,onBlur=_props.onBlur;validateOn&&validateOn.toLowerCase().indexOf("blur")>-1&&this.validate(),"function"==typeof onBlur&&onBlur(e)},handleChange:function(e){var _props2=this.props,validateOn=_props2.validateOn,onChange=_props2.onChange;validateOn&&validateOn.toLowerCase().indexOf("change")>-1&&this.validate(),"function"==typeof onChange&&onChange(e)},validate:function(){var rules=this.props.rules,value=this.getVal(),valid=!0;try{(0,_validator.validate)(value,rules)}catch(e){valid=!1}finally{return valid?(this.resetError(),!0):(this.setError(),!1)}},render:function(){var _this=this,_props3=this.props,label=_props3.label,children=_props3.children,message=(_props3.onBlur,_props3.onChange,_props3.message),props=_objectWithoutProperties(_props3,["label","children","onBlur","onChange","message"]),hasError=this.state.hasError,groupClasses=(0,_classnames2.default)({"form-group":!0,"has-error":hasError});return _react2.default.createElement("div",{className:groupClasses},label?_react2.default.createElement("label",null,label):null,_react2.default.createElement("select",_extends({ref:function(c){return _this.input=c}},props,{onBlur:this.handleBlur,onChange:this.handleChange}),children),hasError?_react2.default.createElement("span",{className:"error-msg"},message):null)}});exports.default=Select},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(5),_classnames2=_interopRequireDefault(_classnames),BrowseInput=_react2.default.createClass({displayName:"BrowseInput",getDefaultProps:function(){return{message:"Please select a location"}},getInitialState:function(){return{hasError:!1}},handleClick:function(e){"function"==typeof this.props.onBrowse&&this.props.onBrowse(e)},showError:function(){this.setState({hasError:!0})},hideError:function(){this.setState({hasError:!1})},render:function(){var hasError=this.state.hasError,values=this.props.values,formClasses=(0,_classnames2.default)({"form-group":!0,"has-error":hasError});return _react2.default.createElement("div",{className:formClasses},_react2.default.createElement("div",{className:"input-group"},_react2.default.createElement("input",{ype:"text",value:values.get("logical"),className:"form-control",readOnly:!0}),_react2.default.createElement("div",{className:"input-group-btn"},_react2.default.createElement("button",{onClick:this.handleClick,className:"btn btn-primary"},_react2.default.createElement("i",{className:"fa fa-folder-open"})," Browse"))),hasError?_react2.default.createElement("span",{className:"error-msg"},this.props.message):null)}});exports.default=BrowseInput},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactBootstrapModal=__webpack_require__(24),_reactBootstrapModal2=_interopRequireDefault(_reactBootstrapModal),AdvancedOptions=_react2.default.createClass({displayName:"AdvancedOptions",getInitialState:function(){return{selected:this.props.selected,modalVisible:!1}},componentWillReceiveProps:function(nextProps){this.setState({selected:nextProps.selected})},handleChange:function(event){if("edit"!==this.props.mode){var selected=event.target.value;this.setState({selected:selected})}},getVal:function(){return this.state.selected},show:function(){this._selected=this.state.selected,this.setState({modalVisible:!0})},handleShow:function(){this.show()},hide:function(){this.setState({modalVisible:!1})},handleSave:function(e){"function"==typeof this.props.onSave&&this.props.onSave(this.getVal()),this.hide(),e.stopPropagation()},handleCancel:function(){this.setState({selected:this._selected,modalVisible:!1})},handleKill:function(e){e.preventDefault(),e.stopPropagation()},render:function(){var _state=this.state,selected=_state.selected,modalVisible=_state.modalVisible,mode=this.props.mode,disabled="edit"===mode;return _react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("button",{type:"button",className:"btn btn-sm btn-primary",onClick:this.handleShow},"Advanced"),_react2.default.createElement(_reactBootstrapModal2.default,{show:modalVisible,onHide:this.handleCancel},_react2.default.createElement(_reactBootstrapModal.Header,{closeButton:!0},_react2.default.createElement("h4",{className:"modal-title"},"Advanced Options")),_react2.default.createElement(_reactBootstrapModal.Body,null,_react2.default.createElement("div",{className:"radio"},_react2.default.createElement("label",null,_react2.default.createElement("input",{type:"radio",name:"datasource",value:"tomcat",checked:"tomcat"===selected,onChange:this.handleChange,disabled:disabled}),"Tomcat DataSource")),_react2.default.createElement("div",{className:"radio"},_react2.default.createElement("label",null,_react2.default.createElement("input",{type:"radio",name:"datasource",value:"hikari",checked:"hikari"===selected,onChange:this.handleChange,disabled:disabled}),"Hikari DataSource")),_react2.default.createElement("div",{className:"radio"},_react2.default.createElement("label",null,_react2.default.createElement("input",{type:"radio",name:"datasource",value:"jndi",checked:"jndi"===selected,onChange:this.handleChange,disabled:disabled}),"JNDI DataSource"))),_react2.default.createElement(_reactBootstrapModal.Footer,null,_react2.default.createElement("button",{className:"btn btn-primary",onClick:this.handleSave,onDoubleClick:this.handleKill},"Save"),_react2.default.createElement(_reactBootstrapModal.Dismiss,{className:"btn btn-danger"},"Close"))))}});exports.default=AdvancedOptions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_immutable=__webpack_require__(30),_template=__webpack_require__(68),_input=__webpack_require__(20),_input2=_interopRequireDefault(_input),DriverUrlForm=_react2.default.createClass({displayName:"DriverUrlForm",getInitialState:function(){var _props=this.props,driver=_props.driver,defaultUrl=_props.defaultUrl,defaultDriver=_props.defaultDriver,state=driver.toJS();return defaultUrl&&state.driver===defaultDriver&&(state.parameters=(0,_template.decompile)(state.url,defaultUrl)),state},reset:function(){this.setState(this.getInitialState())},getVal:function(){var data={url:this.url.value};return this.hostName&&this.port&&this.database&&(data.parameters={hostName:this.hostName.getVal(),port:this.port.getVal(),database:this.database.getVal(),options:this.options.getVal()}),data},validate:function(){var _state=this.state,url=_state.url,parameters=_state.parameters;return!url||!parameters||this.hostName.validate()&&this.port.validate()&&this.database.validate()},_updateParmeters:function(param){var value=this[param].getVal();this.setState(function(state){var parameters=state.parameters;return parameters[param]=value,{parameters:parameters}})},render:function(){var _this=this,_state2=this.state,url=_state2.url,parameters=_state2.parameters,finalURL=url&&parameters?(0,_template.compile)(url,parameters):"",hash=(0,_immutable.Map)(parameters).hashCode();return finalURL+=parameters.options||"",_react2.default.createElement("div",null,url&&parameters?_react2.default.createElement("div",{className:"form-horizontal"},_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",{className:"control-label col-sm-4"},"Host"),_react2.default.createElement("div",{className:"col-sm-8"},_react2.default.createElement(_input2.default,{type:"text",ref:function(c){return _this.hostName=c},className:"form-control",value:parameters.hostName,onChange:function(){return _this._updateParmeters("hostName")},validateOn:"change|blur",rules:"required"}))),_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",{className:"control-label col-sm-4"},"Port"),_react2.default.createElement("div",{className:"col-sm-8"},_react2.default.createElement(_input2.default,{type:"text",ref:function(c){return _this.port=c},className:"form-control",value:parameters.port,onChange:function(){return _this._updateParmeters("port")},validateOn:"change|blur",rules:"required"}))),_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",{className:"control-label col-sm-4"},"Database"),_react2.default.createElement("div",{className:"col-sm-8"},_react2.default.createElement(_input2.default,{type:"text",ref:function(c){return _this.database=c},className:"form-control",value:parameters.database,onChange:function(){return _this._updateParmeters("database")},validateOn:"change|blur",rules:"required"}))),_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",{className:"control-label col-sm-4"},"Other Options"),_react2.default.createElement("div",{className:"col-sm-8"},_react2.default.createElement(_input2.default,{type:"text",ref:function(c){return _this.options=c},className:"form-control",value:parameters.options,onChange:function(){return _this._updateParmeters("options")},validateOn:"change|blur",rules:"optional"})))):null,_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",null,"URL"),_react2.default.createElement("input",{type:"text",ref:function(c){return _this.url=c},key:hash,className:"form-control",defaultValue:finalURL,readOnly:!0})))}});exports.default=DriverUrlForm},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_select=__webpack_require__(61),_select2=_interopRequireDefault(_select),DriversList=_react2.default.createClass({displayName:"DriversList",handleChange:function(){"function"==typeof this.props.onChange&&this.props.onChange(this.getVal())},validate:function(){return this.driver.validate()},getVal:function(){var driver=this.driver.getVal(),index=this.props.drivers.findIndex(function(d){return d.get("driver")===driver});return this.props.drivers.get(index)},render:function(){var _this=this,_props=this.props,drivers=_props.drivers,defaultValue=_props.defaultValue;return defaultValue=defaultValue&&defaultValue.get("driver"),_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",null,"Driver"),_react2.default.createElement(_select2.default,{ref:function(c){return _this.driver=c},className:"form-control",defaultValue:defaultValue,onChange:this.handleChange,validateOn:"change|blur",rules:"required",message:"Please select a driver"},_react2.default.createElement("option",{disabled:!0,value:""},"<Please select a driver class>"),drivers.map(function(driver,index){var name=driver.get("driver");return _react2.default.createElement("option",{key:index,value:name},name)})))}});exports.default=DriversList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_lodash=__webpack_require__(14),_lodash2=_interopRequireDefault(_lodash),_driversList=__webpack_require__(65),_driversList2=_interopRequireDefault(_driversList),_driverUrlForm=__webpack_require__(64),_driverUrlForm2=_interopRequireDefault(_driverUrlForm),_input=__webpack_require__(20),_input2=_interopRequireDefault(_input),DriversSection=_react2.default.createClass({displayName:"DriversSection",getInitialState:function(){var selectedDriver="",_props=this.props,driversList=_props.driversList,driver=_props.driver;if(driver){var index=driversList.findIndex(function(d){return d.get("driver")===driver.driverName});selectedDriver=driversList.get(index)}return{selectedDriver:selectedDriver}},driverChanged:function(selectedDriver){this.setState({selectedDriver:selectedDriver})},validate:function(){return this.driver.validate()&&this.url.validate()&&this.user.validate()&&this.pass.validate()},getVal:function(){if(!this.validate())return!1;var data={driverName:this.driver.getVal().get("driver"),userName:this.user.getVal(),password:this.pass.getVal()};return this.state.selectedDriver.get("url")?_lodash2.default.assign(data,this.url.getVal()):_lodash2.default.assign(data,{url:this.url.getVal()}),data},handleTest:function(){"function"==typeof this.props.onTest&&this.props.onTest(this.getVal())},render:function(){var _this=this,selectedDriver=this.state.selectedDriver,_props2=this.props,driver=_props2.driver,driversList=_props2.driversList,driverName=driver.driverName,userName=driver.userName,password=driver.password,jdbcUrl=driver.jdbcUrl;return _react2.default.createElement("div",null,_react2.default.createElement(_driversList2.default,{ref:function(c){return _this.driver=c},drivers:driversList,onChange:this.driverChanged,defaultValue:selectedDriver}),selectedDriver?_react2.default.createElement("div",{key:selectedDriver.hashCode()},selectedDriver.get("url")?_react2.default.createElement(_driverUrlForm2.default,{ref:function(c){return _this.url=c},driver:selectedDriver,defaultUrl:jdbcUrl,defaultDriver:driverName}):_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",null,"URL"),_react2.default.createElement(_input2.default,{ref:function(c){return _this.url=c},type:"text",className:"form-control",defaultValue:jdbcUrl||"",validateOn:"change|blur",rules:"required"})),_react2.default.createElement(_input2.default,{label:"Username",ref:function(c){return _this.user=c},type:"text",className:"form-control",defaultValue:userName||"",validateOn:"change|blur",rules:"required"}),_react2.default.createElement(_input2.default,{label:"Password",ref:function(c){return _this.pass=c},type:"password",className:"form-control",defaultValue:password||"",validateOn:"change|blur",rules:"required"}),_react2.default.createElement("div",{className:"form-group text-right"},_react2.default.createElement("button",{className:"btn btn-default",onClick:this.handleTest},"Test Connection"))):null)}});exports.default=DriversSection},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(1),_react2=_interopRequireDefault(_react),_reactTooltip=__webpack_require__(43),_reactTooltip2=_interopRequireDefault(_reactTooltip),_lodash=__webpack_require__(14),_lodash2=_interopRequireDefault(_lodash),_flux=__webpack_require__(21),_requests=__webpack_require__(12),_requests2=_interopRequireDefault(_requests),_notify=__webpack_require__(22),_notify2=_interopRequireDefault(_notify),_dataSourceTypes=__webpack_require__(27),_dataSourceTypes2=_interopRequireDefault(_dataSourceTypes),_advancedOptions=__webpack_require__(63),_advancedOptions2=_interopRequireDefault(_advancedOptions),_driversSection=__webpack_require__(66),_driversSection2=_interopRequireDefault(_driversSection),_browseInput=__webpack_require__(62),_browseInput2=_interopRequireDefault(_browseInput),_input=__webpack_require__(20),_input2=_interopRequireDefault(_input),_ajaxBlock=__webpack_require__(28),_ajaxBlock2=_interopRequireDefault(_ajaxBlock);window.ReactTooltip=_reactTooltip2.default;var DataSourceEditor=_react2.default.createClass({displayName:"DataSourceEditor",getInitialState:function(){return _flux.dataSource.store.getState()},componentWillMount:function(){var _this=this,state=_flux.dataSource.store.getState();state.dataSourceTypes.size?setTimeout(function(){_this.loadType(state)},50):_requests2.default.adhoc.listDataSourceTypes(function(data){_flux.dataSource.actions.loadDataSourceTypes(data),_this.loadType(state)})},componentDidMount:function(){_flux.dataSource.store.listen(this.handleChange),"edit"===this.props.mode&&window.addEventListener("beforeunload",this.handleUnload)},componentWillUnmount:function(){_flux.dataSource.store.unlisten(this.handleChange),"edit"===this.props.mode&&window.removeEventListener("beforeunload",this.handleUnload)},handleUnload:function(evt){var confirmationMessage="You may have unsaved changes";return evt.returnValue=confirmationMessage,confirmationMessage},handleShowBrowser:function(){this.location.hideError();var browser=this.browser,fetchDataUrl=window.HDI.adhoc.urls.getResources+'?extensions=["folder"]';browser||(browser=this.browser=new window.HDIFileBrowser({fetchDataUrl:fetchDataUrl,preserveOnHide:!0,disableFilters:!0,menuTemplate:{folder:function(){return['<li>\n                                <a href="#" data-action="setFolder">\n                                    <i class="fa fa-fw fa-pencil"></i> Use this folder\n                                </a>\n                            </li>'].join("")}},customActions:{setFolder:function(file){var _file$data=file.data(),physical=_file$data.path,logical=_file$data.__path;_flux.dataSource.actions.setLocation({logical:logical,physical:physical}),browser.hide()}}}),browser.$el.insertAfter("#main")),browser.show()},handleChange:function(){this.setState(this.getInitialState())},loadType:function(state){var _props=this.props,mode=_props.mode,datasource=_props.datasource;if("edit"===mode){var index=state.dataSourceTypes.findIndex(function(d){return d.get("type")===datasource["@baseType"]});this.handleTypeSelect(state.dataSourceTypes.get(index)),this.handleUpdateProvider(datasource.dataSourceProvider)}},handleTypeSelect:function(type){_flux.dataSource.actions.selectDataSourceType(type)},handleUpdateProvider:function(value){_flux.dataSource.actions.setDataSourceProvider(value)},handleTest:function(){var formData=this._getFormData();formData!==!1&&_requests2.default.core.testDataSource(formData,function(){})},handleSaveDataSource:function(){var _this2=this,formData=this._getFormData();if(formData!==!1)return"edit"===this.props.mode?_requests2.default.core.updateDataSource(formData,function(){}):void(this.saved||(this.saved=!0,_requests2.default.core.createDataSource(formData,function(){_notify2.default.success("DataSource created successfully"),setTimeout(function(){return window.location=window.DashboardGlobals.baseUrl+"hi.html"},2e3)},function(){return _this2.saved=null})))},_getFormData:function(){if(!this.name.validate())return!1;var _state=this.state,selectedDataSourceType=_state.selectedDataSourceType,dataSourceProvider=_state.dataSourceProvider,selectedDataSource=_state.selectedDataSource,mode=this.props.mode,classifier=selectedDataSourceType.get("classifier"),type=selectedDataSourceType.get("type"),data={classifier:classifier,name:this.name.getVal()};if("jndi"!==dataSourceProvider){if(!this.driver.validate())return!1;_lodash2.default.assign(data,this.driver.getVal()),data.jdbcUrl=data.url,delete data.url,delete data.parameters}else{if(!this.jndi.validate())return!1;data.lookUpName=this.jndi.getVal()}if("efwd"===classifier){if("edit"===mode)data.directory=selectedDataSource.getIn(["data","dir"]);else{if(!this.state.selectedLocation.get("physical"))return this.location.showError(),!1;data.directory=this.state.selectedLocation.get("physical")}data.type=type}else"global"===classifier&&(data.dataSourceProvider=dataSourceProvider);return this.props.datasource&&(data.id=this.props.datasource["@id"],data.type=this.props.datasource["@type"]),data},render:function(){var _this3=this,_state2=this.state,selectedDataSourceType=_state2.selectedDataSourceType,dataSourceProvider=_state2.dataSourceProvider,driversList=_state2.driversList,selectedDataSource=_state2.selectedDataSource,selectedLocation=_state2.selectedLocation,_props2=this.props,mode=_props2.mode,datasource=_props2.datasource,classifier=selectedDataSourceType&&selectedDataSourceType.get("classifier"),editable="edit"===mode,driverDetails=!!editable&&_lodash2.default.pick(datasource,["driverName","userName","password","jdbcUrl"]);return _react2.default.createElement("div",{className:"container"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-sm-8 col-md-4"},_react2.default.createElement(_dataSourceTypes2.default,{selectNone:!0,disabled:editable,value:editable?datasource["@baseType"]:"",dataSources:this.state.dataSourceTypes,onChange:this.handleTypeSelect}),selectedDataSourceType?_react2.default.createElement("div",null,"global"===classifier?_react2.default.createElement(_advancedOptions2.default,{selected:dataSourceProvider,onSave:this.handleUpdateProvider,mode:mode}):null,_react2.default.createElement(_input2.default,{label:"DataSource Name",ref:function(c){return _this3.name=c},className:"form-control",defaultValue:editable?datasource["@name"]:"",rules:"required|alphanumeric",message:"Please enter alphanumeric value",validateOn:"blur|change"}),"efwd"===classifier?_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("label",null,"Location"),editable?_react2.default.createElement("input",{type:"text",className:"form-control",value:selectedDataSource.getIn(["data","dir"]),readOnly:!0}):_react2.default.createElement(_browseInput2.default,{ref:function(c){return _this3.location=c},values:selectedLocation,onBrowse:this.handleShowBrowser})):null,"global"!==classifier||"jndi"!==dataSourceProvider?_react2.default.createElement(_driversSection2.default,{ref:function(c){return _this3.driver=c},onTest:this.handleTest,driversList:driversList,driver:driverDetails}):_react2.default.createElement("div",null,_react2.default.createElement(_input2.default,{label:"JNDI Name",ref:function(c){return _this3.jndi=c},type:"text",className:"form-control",defaultValue:editable?datasource.lookUpName:"",rules:"required|custom(/^\\S+$/)",message:"Please enter a valid JNDI name",validateOn:"blur|change"}),_react2.default.createElement("div",{className:"form-group text-right"},_react2.default.createElement("button",{className:"btn btn-default",onClick:this.handleTest},"Test Connection"))),_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.handleSaveDataSource},editable?"Update DataSource":"Save DataSource")),_react2.default.createElement("br",null),_react2.default.createElement("br",null),_react2.default.createElement("br",null)):_react2.default.createElement("p",null,"Please select a Data Source Type from above"))),_react2.default.createElement(_ajaxBlock2.default,{
autostart:!0}))}});exports.default=DataSourceEditor},function(module,exports){"use strict";function compile(tpl,data){if(!data)return tpl;var match=tpl.match(interpolate);if(Array.isArray(match)&&match.length)for(var i=0,l=match.length;i<l;i++){var index=match[i].replace("{{","").replace("}}","");data[index]&&(tpl=tpl.replace(match[i],data[index]))}return tpl}function decompile(tpl,str){var result=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},regex=new RegExp(interpolate.source),match=tpl.match(regex);if(!match)return result;var prop=match[1].replace(/ /g,""),templateSplit=tpl.split(match[0]),secondSplitPivot=templateSplit[1].split(regex)[0],value=str.replace(templateSplit[0],"");return secondSplitPivot&&(value=value.split(secondSplitPivot)[0]),result[prop]=value,decompile(tpl.replace(regex,value),str,result)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.compile=compile,exports.decompile=decompile;var interpolate=/\{\{(.+?)\}\}/g},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return/^[a-z ]+$/i.test(value)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return/^[a-z0-9 ]+$/i.test(value)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value,needle){return value.indexOf(needle)>-1}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value,exp){var start=exp.indexOf("/"),end=exp.lastIndexOf("/"),regex=exp.slice(start+1,end),modifiers=exp.slice(end+1);return new RegExp(regex,modifiers).test(value)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value,exp){return exp||(exp="YYYY/MM/DD"),(0,_moment2.default)(value,exp).isValid()};var _moment=__webpack_require__(104),_moment2=_interopRequireDefault(_moment)},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(data){return EMAIL_REGEXP.test(data)};var EMAIL_REGEXP=/^[A-Z0-9._%+-]+@[A-Z0-9\.\-]+\.[A-Z]{2,6}/i},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value,end){var regex=new RegExp(end+"$");return regex.test(value)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return/^[a-z0-9][a-z0-9 \-\.\_\~\(\)\[\]]+$/i.test(value)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _alpha=__webpack_require__(69),_alpha2=_interopRequireDefault(_alpha),_alphanumeric=__webpack_require__(70),_alphanumeric2=_interopRequireDefault(_alphanumeric),_custom=__webpack_require__(72),_custom2=_interopRequireDefault(_custom),_contains=__webpack_require__(71),_contains2=_interopRequireDefault(_contains),_date=__webpack_require__(73),_date2=_interopRequireDefault(_date),_endswith=__webpack_require__(75),_endswith2=_interopRequireDefault(_endswith),_email=__webpack_require__(74),_email2=_interopRequireDefault(_email),_filename=__webpack_require__(76),_filename2=_interopRequireDefault(_filename),_length=__webpack_require__(78),_length2=_interopRequireDefault(_length),_required=__webpack_require__(81),_required2=_interopRequireDefault(_required),_startswith=__webpack_require__(82),_startswith2=_interopRequireDefault(_startswith),_url=__webpack_require__(83),_url2=_interopRequireDefault(_url),_numeric=__webpack_require__(79),_numeric2=_interopRequireDefault(_numeric),_numericlength=__webpack_require__(80),_numericlength2=_interopRequireDefault(_numericlength);exports.default={alpha:_alpha2.default,alphanumeric:_alphanumeric2.default,custom:_custom2.default,contains:_contains2.default,endswith:_endswith2.default,date:_date2.default,email:_email2.default,filename:_filename2.default,length:_length2.default,numeric:_numeric2.default,numericlength:_numericlength2.default,required:_required2.default,startswith:_startswith2.default,url:_url2.default}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value,len){var lengths=len.split(",");return lengths.length>1?value.length>=parseInt(lengths[0])&&value.length<=parseInt(lengths[1]):value.length>=parseInt(lengths[0])}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return/^[0-9]+$/i.test(value)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){var minValue=0,maxValue=100;return parseInt(value,10)<minValue||isNaN(value)?0:parseInt(value,10)>=maxValue?0:value}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value){return value.length>0}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(value,start){var regex=new RegExp("^"+start);return regex.test(value)}},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(data){return URL_REGEXP.test(data)};var URL_REGEXP=/(https?|ftp):\/\/(-\.)?([^\s\/?\.#-]+\.?)+(\/[^\s]*)?$/i},,,,,,,,,,,,,,,,,,,,,function(module,exports){module.exports=moment}]);
//# sourceMappingURL=datasource-create.js.map